{"version":3,"file":"23.test.js","sourceRoot":"","sources":["../../../spec/issues/23.test.ts"],"names":[],"mappings":";;AAAA,2BAAuB;AAEvB,yCAAkD;AASlD,aAAI,CAAC,kDAAkD,EAAE,UAAA,CAAC;IACxD,IAAM,gBAAgB,GAAG,kBAAU,CAAC,GAAG,EAAuB,CAAC;IAE/D,IAAI,KAAK,GAAG,CAAC,CAAA;IAEb,gBAAgB,CAAC,GAAG,CAAC,WAAG,CAAC,GAAG,EAAE,CAAC,CAAC,OAAO,CAAC,UAAC,CAAC,EAAE,CAAC;QAC3C,CAAC,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,qBAAqB,CAAC,CAAA;QAC9C,OAAO,CAAC,GAAG,CAAC,CAAC;IACf,CAAC,CAAC,CAAC;IAEH,gBAAgB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK;IAEjC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA,CAAC,4BAA4B;AACrE,CAAC,CAAC,CAAC","sourcesContent":["import test from \"ava\";\r\n\r\nimport { Substitute, Arg } from \"../../src/index\";\r\n\r\ninterface CalculatorInterface {\r\n  add(a: number, b: number): number;\r\n  subtract(a: number, b: number): number;\r\n  divide(a: number, b: number): number;\r\n  isEnabled: boolean;\r\n}\r\n\r\ntest(\"issue 23: mimick received should not call method\", t => {\r\n  const mockedCalculator = Substitute.for<CalculatorInterface>();\r\n\r\n  let calls = 0\r\n\r\n  mockedCalculator.add(Arg.all()).mimicks((a, b) => {\r\n    t.deepEqual(++calls, 1, 'mimick called twice')\r\n    return a + b;\r\n  });\r\n\r\n  mockedCalculator.add(1, 1); // ok\r\n\r\n  mockedCalculator.received(1).add(1, 1) // not ok, calls mimick func\r\n});\r\n"]}